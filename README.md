# 🖥 PAYHERE 기업 과제

## 🛠 실행환경 설절 방법 (도커 환경이 제대로 설치가 되지 않아서 코드로 봐주세요)

> `git`과 `docker`, `docker-compose`가 설치되어 있어야 합니다.

1. 레포지토리 git 클론

    ```bash
    $ git clone git@github.com:kohys92/payhere_accountbook.git
    ```

2. 애플리케이션 실행하기

    ```bash
    $ docker-compose up

    # 애플리케이션을 백그라운드에서 실행하고 싶다면
    $ docker-compose up -d
    
    # 어플리케이션이 실행이 되고 난 후에 데이터베이스 migration이 필요하다면
    $ docker-compose exec api
    ```

## 📂 권장 사용 언어 및 라이브러리
1. 언어 및 프레임워크
    - `Python 3.8`  : `Django`
2. DB `mysql:5.7` 

### 💡 요구사항

1. 고객은 이메일과 비밀번호 입력을 통해서 회원 가입을 할 수 있습니다.   ☑️
2. 고객은 회원 가입이후, 로그인과 로그아웃을 할 수 있습니다.   ☑️
3. 고객은 로그인 이후 가계부 관련 아래의 행동을 할 수 있습니다.   
    1. 가계부에 오늘 사용한 돈의 금액과 관련된 메모를 남길 수 있습니다.   ☑️
    2. 가계부에서 수정을 원하는 내역은 금액과 메모를 수정 할 수 있습니다.   ☑️
    3. 가계부에서 삭제를 원하는 내역은 삭제 할 수 있습니다. ❌
    4. 삭제한 내역은 언제든지 다시 복구 할 수 있어야 한다. ❌
    5. 가계부에서 이제까지 기록한 가계부 리스트를 볼 수 있습니다.   ☑️
    6. 가계부에서 상세한 세부 내역을 볼 수 있습니다.   ☑️
4. 로그인하지 않은 고객은 가계부 내역에 대한 접근 제한 처리가 되어야 합니다.   ☑️

### ⚠️ 구현하지 못한 기능 ❌
1. 가게부에서 삭제를 원하는 내역은 삭제 할 수 있습니다.
  - 유저가 가계부 내용 하나를 삭제 할 시에 데이터베이스에 있는 모든 내역의 `total_income` 과 `total_expense` 가 같이 업데이트 되어야 된다고 생각했습니다.
  - 유저가 가계부 내용을 수정 시에는 다른 내역들의 `total_income` 과 `total_expense`가 같이 업데이트가 됩나다. 
  
2. 삭제한 내역은 언제든지 다시 복구 할 수 있어야 한다.
  - 데이터베이스 모델링을 하면서 `is_removed` 라는 필드를 만들어 놓고 유저가 특정 가계부 내역을 삭제하면 `is_removed`를 `True` 로 값을 받고 내역들을 조회했을때 `False`값만
  조회할 수 있도록 구현해보려고 시도했습니다. 이러한 soft delete 기능을 만들고고 삭제 내역을 restore 할 시엔 `is_removed` 값을 다시 `True`로 업데이트하여 삭제한 내역을 복구 할 수 
  있도록 계획했습니다.  
  
3. 유닛테스트는 구현하지 못했습니다. 
  
### ❔ 코드에 대한 생각
1. 확장성을 고려했을때 현재 구조로는 어렵다고 생각했습니다. 현재 코드 구조에 대해서 아직 지식이 부족해 개인적으로 공부 중에 있습니다. 계층화 구조를 적용하여 확장성을 고려한 코드를 구현하고 
싶었지만 하지 못한게 조금 아쉽습니다. 

### 🅿️ POST API Document

  https://documenter.getpostman.com/view/17253438/UVJYLKH6
